# Быстрый чек-лист деплоя обновлений

## Для обновления уже развернутого проекта на VPS

---

## Шаг 1: Подготовка локально

### 1.1 Проверка изменений
```bash
# Убедитесь, что все изменения закоммичены
git status

# Если есть незакоммиченные изменения, закоммитьте их
git add .
git commit -m "Описание изменений"
```

### 1.2 Пуш изменений в репозиторий
```bash
# Отправьте изменения в удаленный репозиторий
git push origin main
# или
git push origin master
```

---

## Шаг 2: Подключение к VPS

```bash
# Подключитесь к вашему VPS серверу
ssh your_username@your_vps_ip

API-key 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

# Перейдите в директорию проекта
cd ~/ozon-scraper
```

---

## Шаг 3: Получение обновлений

```bash
# Получите последние изменения из репозитория
git pull origin main
```

---

## Шаг 4: Проверка .env файла

```bash
# Убедитесь, что .env файл существует и актуален
ls -la .env

# Если нужно, проверьте содержимое (не изменяйте без необходимости)
cat .env | grep -E "SUPABASE|TELEGRAM|API"
```

**ВАЖНО**: Если в обновлениях есть новые переменные окружения, добавьте их в `.env` файл перед запуском!

---

## Шаг 5: Остановка контейнеров

```bash
# Остановите текущие контейнеры
docker-compose -f docker-compose.prod.yml down
```

---

## Шаг 6: Пересборка и запуск

```bash
# Пересборка образов (если были изменения в коде)
docker-compose -f docker-compose.prod.yml build

# Запуск контейнеров в фоновом режиме
docker-compose -f docker-compose.prod.yml up -d
```
```bash
# посмотреть логи бота
docker-compose -f docker-compose.prod.yml logs -f bot
```